<<<<<<< HEAD
"use strict";var Course=require("../../api/models/course");exports.addReview=function(r,t){var a,n,s,u,i,o,c;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.params.id,n=r.body,s=n.author,u=n.rating,i=n.reviewText,e.prev=2,e.next=5,regeneratorRuntime.awrap(Course.findById(a).exec());case 5:if(o=e.sent){e.next=8;break}return e.abrupt("return",t.status(404).send("Course not found"));case 8:return c={author:s,rating:u,reviewText:i,timestamp:new Date},o.reviews.push(c),e.next=12,regeneratorRuntime.awrap(o.save());case 12:t.redirect("/courses/".concat(a)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),t.status(500).send("Error adding review: "+e.t0.message);case 18:case"end":return e.stop()}},null,null,[[2,15]])};
=======
"use strict";var Course=require("../../api/models/course"),addReview=function(r,t){var n,a,s,u,i,c,o;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.params.id,a=r.body,s=a.author,u=a.rating,i=a.reviewText,e.prev=2,e.next=5,regeneratorRuntime.awrap(Course.findById(n).exec());case 5:if(c=e.sent){e.next=8;break}return e.abrupt("return",t.status(404).send("Course not found"));case 8:return o={author:s,rating:u,reviewText:i,timestamp:new Date},c.reviews.push(o),e.next=12,regeneratorRuntime.awrap(c.save());case 12:t.redirect("/courses/".concat(n)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),t.status(500).send("Error adding review: "+e.t0);case 18:case"end":return e.stop()}},null,null,[[2,15]])},reviewList=function(r,t){var n,a;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.params.id,e.prev=1,e.next=4,regeneratorRuntime.awrap(Course.findById(n).exec());case 4:if(a=e.sent){e.next=7;break}return e.abrupt("return",t.status(404).send("Course not found"));case 7:t.render("courseDetails",{course:a}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t.status(500).send("Error retrieving reviews: "+e.t0);case 13:case"end":return e.stop()}},null,null,[[1,10]])};module.exports={addReview:addReview,reviewList:reviewList};
>>>>>>> baea0f805be43cb9f0d18de0157714dbb01214b3
//# sourceMappingURL=reviewController.min.js.map

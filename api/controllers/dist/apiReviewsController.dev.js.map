{"version":3,"sources":["apiReviewsController.js"],"names":["Course","require","addReview","req","res","console","log","params","courseId","id","body","author","rating","reviewText","findById","exec","course","status","json","message","newReview","timestamp","Date","reviews","push","save","review","error","module","exports"],"mappings":";;AAAA;AACA,IAAMA,MAAM,GAAGC,OAAO,CAAC,kBAAD,CAAtB,C,CAEA;;;AACA,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAAOC,GAAP,EAAYC,GAAZ;AAAA;;AAAA;AAAA;AAAA;AAAA;AAChBC,UAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BH,GAAG,CAACI,MAA/B,EADgB,CACwB;;AAClCC,UAAAA,QAFU,GAECL,GAAG,CAACI,MAAJ,CAAWE,EAFZ;AAAA,sBAGuBN,GAAG,CAACO,IAH3B,EAGRC,MAHQ,aAGRA,MAHQ,EAGAC,MAHA,aAGAA,MAHA,EAGQC,UAHR,aAGQA,UAHR;AAAA;AAAA;AAAA,0CAMOb,MAAM,CAACc,QAAP,CAAgBN,QAAhB,EAA0BO,IAA1B,EANP;;AAAA;AAMRC,UAAAA,MANQ;;AAAA,cAOTA,MAPS;AAAA;AAAA;AAAA;;AAAA,2CAQLZ,GAAG,CAACa,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,YAAAA,OAAO,EAAE;AAAX,WAArB,CARK;;AAAA;AAWRC,UAAAA,SAXQ,GAWI;AAChBT,YAAAA,MAAM,EAANA,MADgB;AAEhBC,YAAAA,MAAM,EAANA,MAFgB;AAGhBC,YAAAA,UAAU,EAAVA,UAHgB;AAIhBQ,YAAAA,SAAS,EAAE,IAAIC,IAAJ;AAJK,WAXJ;AAkBdN,UAAAA,MAAM,CAACO,OAAP,CAAeC,IAAf,CAAoBJ,SAApB;AAlBc;AAAA,0CAmBRJ,MAAM,CAACS,IAAP,EAnBQ;;AAAA;AAqBdrB,UAAAA,GAAG,CAACa,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,YAAAA,OAAO,EAAE,2BAAX;AAAwCO,YAAAA,MAAM,EAAEN;AAAhD,WAArB;AArBc;AAAA;;AAAA;AAAA;AAAA;AAuBdhB,UAAAA,GAAG,CAACa,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,YAAAA,OAAO,EAAE,qBAAX;AAAkCQ,YAAAA,KAAK;AAAvC,WAArB;;AAvBc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAlB;;AA0BAC,MAAM,CAACC,OAAP,GAAiB;AACf3B,EAAAA,SAAS,EAATA;AADe,CAAjB","sourcesContent":["// api/controllers/apiReviewsController.js\r\nconst Course = require(\"../models/course\");\r\n\r\n// Function to add a review (API)\r\nconst addReview = async (req, res) => {\r\n  console.log(\"req.params:\", req.params); // Check this log\r\n  const courseId = req.params.id;\r\n  const { author, rating, reviewText } = req.body;\r\n\r\n  try {\r\n    const course = await Course.findById(courseId).exec();\r\n    if (!course) {\r\n      return res.status(404).json({ message: \"Course not found\" });\r\n    }\r\n\r\n    const newReview = {\r\n      author,\r\n      rating,\r\n      reviewText,\r\n      timestamp: new Date(),\r\n    };\r\n\r\n    course.reviews.push(newReview);\r\n    await course.save();\r\n\r\n    res.status(201).json({ message: \"Review added successfully\", review: newReview });\r\n  } catch (error) {\r\n    res.status(500).json({ message: \"Error adding review\", error });\r\n  }\r\n};\r\nmodule.exports = {\r\n  addReview,\r\n};\r\n"],"file":"apiReviewsController.dev.js"}
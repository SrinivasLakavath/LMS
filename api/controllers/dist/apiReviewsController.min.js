"use strict";var Course=require("../models/course"),addReview=function(r,a){var s,t,n,u,o,i,c;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("req.params:",r.params),s=r.params.id,t=r.body,n=t.author,u=t.rating,o=t.reviewText,e.prev=3,e.next=6,regeneratorRuntime.awrap(Course.findById(s).exec());case 6:if(i=e.sent){e.next=9;break}return e.abrupt("return",a.status(404).json({message:"Course not found"}));case 9:return c={author:n,rating:u,reviewText:o,timestamp:new Date},i.reviews.push(c),e.next=13,regeneratorRuntime.awrap(i.save());case 13:a.status(201).json({message:"Review added successfully",review:c}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),a.status(500).json({message:"Error adding review",error:e.t0});case 19:case"end":return e.stop()}},null,null,[[3,16]])};module.exports={addReview:addReview};
//# sourceMappingURL=apiReviewsController.min.js.map
